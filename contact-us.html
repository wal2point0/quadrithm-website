<!doctype html>
<html lang="en" class="h-100" data-bs-theme="auto">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Send Mission Brief</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
   
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="favicon/curious-favicon-32x32.png" sizes="32x32" />



    <!-- Custom styles for this template -->
    <link href="index-test.css" rel="stylesheet">
  </head>

  <body class="d-flex h-100 text-center" id="mission-brief">

     <!-- LOGO -->
      <div class="d-flex w-100 h-100 p-3 mx-auto flex-column">

          <header class="mb-auto contact-header">
              <div>
                <a class="navbar-brand" href="index.html">
                  <img src="logos/curious-primary-logo.png" class="logos" alt="Quadrithm's Curious Logo">
                </a>
              </div>

              <!-- <div class="page-title mt-4">
                <h1>SEND <em>MISSION</em> BRIEF</h1> 
              </div> -->
          </header>
      
    <!-- <div class="terminal mw-100">
      <div class="window-title">user@system:~$ mission.exe</div>
      
        <div id="output"></div>
        <div class="cursor"></div>
    </div> -->

  <div class="top-contact my-auto mx-auto">
    <div class="terminal" id="terminalContainer">
        <div class="window-title p-2">user@system:~$ mission.exe</div>
        <div class="cursor"></div>
        <div id="output" class="text-start p-3"></div>
        <div class="glitch-overlay" id="glitchOverlay"></div>
        <!-- <div class="terminal-output" id="terminalOutput"></div> -->
         <!-- Button trigger modal -->
        <button type="button" class="btn btn-outline-secondary ms-3" id="assignMission" data-bs-toggle="modal" data-bs-target="#exampleModal">assign mission</button>
    </div>
  </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" data-bs-backdrop="static" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg centre-modal">
        <div class="modal-content">
          <div class="modal-header d-flex justify-content-between">
            <div class="d-flex justify-content-start">
              <h5 class="modal-title pt-1" id="exampleModalLabel"><span>Send</span> <em>MISSION</em> Brief</h5> 
              <button type="button" class="btn btn-secondary ms-2" data-bs-toggle="popover" title="Keep It Brief (no yapping)" data-bs-content="Tell us your elevator pitch, budget, and timeline;"><i class="bi bi-info-circle"></i></button>
            </div>  
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
          </div>
          <div class="modal-body">
             <div class="recorder">
                <div class="flex justify button-wrapper">
                    <button-center
                      id="startRecord"
                      class="btn button font-bold py-2 px-4 rounded-circle flex items-center"
                    >
                      <span class="backdrop"></span>
                      <div class="text-rec mt-2"><i class="bi bi-mic fs-2 mr-2"></i> rec</div>
                    </button>
                </div>

                  <!-- <p id="timestamp" class="text-center text-sm text-gray-600"></p> -->
                  <p id="recordingTime" class="text-center text-xl font-semibold pt-2"></p>

                  <div class="mt-6 flex justify-center">
                    <!-- <h5 class="text-lg font-semibold mb-2 text-gray-700">Recorded Audio Preview</h5> -->
                    <audio id="audioPlayback" controls class="mw-100"></audio>
                  </div>

                <div class="flex justify-center py-2">
                  <button
                      id="stopRecord"
                      class="btn btn-danger text-white font-bold py-2 px-4 rounded-full flex items-center"
                      disabled
                    >
                      <i class="fas fa-stop-circle mr-2"></i> Stop Recording
                    </button>
                </div>

                <!-- Submission Form -->
              <form id="recordingForm" class="py-1" novalidate>
                  <div class="row flex justify-content-center">
                      <div class="col-md-6">
                        <label for="nameInput" class="block form-label text-sm font-medium text-gray-700 mb-1">Enter your name</label>
                        <input 
                          type="text" 
                          id="nameInput" 
                          name="name"
                          pattern="[A-Za-z\s]+" 
                          title="Please enter letters only" 
                          class="form-control"
                          required
                        >
                        <div class="fst-italic text-xs mt-1 hidden formErrors" id="nameError">Please enter a valid name (letters only)</div>
                      </div>

                      <div class="col-md-6">
                        <label for="emailInput" class="block form-label text-sm font-medium text-gray-700 mb-1">
                          Enter your email
                        </label>
                        <input 
                          type="email" 
                          id="emailInput" 
                          name="email"
                          class="form-control"
                          required
                          oninput="validateEmail(this)"
                        >
                        <div class="fst-italic text-xs mt-1 hidden formErrors" id="emailError">
                          Please enter a valid email address
                        </div>
                      </div>  
                  </div>   
                </form>
                
              </div>
          </div>
          <div class="modal-footer d-flex justify-content-center">
              <div class="">
                    <button
                      type="submit"
                      id="submitRecording"
                      class="btn btn-success font-bold py-2 px-4 rounded-full flex items-center justify-center"
                    >
                      <i class="fas fa-paper-plane mr-2"></i> Assign Mission
                    </button>
                </div>
          </div>
        </div>
      </div>
    </div>


      <!-- MENU -->
        <div id="menuBlur">
          <div class="row menu mb-md-5">
            <!-- Button 1  -->
              <div class="col-md-2 button-wrapper">
                <div class="collapse multi-collapse" id="multiCollapseExample1">
                    <a href="aboutus.html" class="btn btn-outline-danger p-3 px-md-2 px-lg-3 mb-3 mb-md-0 me-md-2" aria-expanded="false" id="buttonOne">What is Quadrithm?</a>
                </div>
              </div>
              
              <!-- Button 2  -->
              <div class="col-md-3 button-wrapper">
                <div class="collapse multi-collapse" id="multiCollapseExample2">
                    <a href="specialisations.html" class="btn btn-outline-danger p-3 px-md-2 px-lg-3 mb-3 mb-md-0" aria-expanded="false" id="buttonTwo">Quadrithm's Specialties</a>
                </div>
              </div>
        
              <div class="col-md-2 myrow button-wrapper">
                  <span class="dot dot-curious dot-1"></span>
                  <span class="dot dot-curious dot-2"></span>
                  <span class="dot dot-curious dot-3"></span>
                  <span class="dot dot-curious dot-4"></span>
                  <span class="dot dot-curious dot-5"></span>
                  <span class="dot dot-curious dot-6"></span>
                  <span class="dot dot-curious dot-7"></span>
                  <button class="btn button-contact uppercase" type="button" data-bs-toggle="collapse" data-bs-target=".multi-collapse" aria-expanded="false" aria-controls="multiCollapseExample1 multiCollapseExample2 multiCollapseExample3 multiCollapseExample4">
                      <span class="spark"></span>  
                        <span class="backdrop"></span>
                          <div class="text-contact">
                            Menu
                          </div>
                  </button>
              </div>
            
            <!-- Button 3  -->
            <div class="col-md-3 button-wrapper">
                <div class="collapse multi-collapse" id="multiCollapseExample3">
                    <a href="missions-completed.html" class="btn btn-outline-danger p-3 px-lg-3 mb-3 mt-3 mb-md-0 mt-md-0" aria-expanded="false" id="buttonThree">Quadrithm's Missions</a>
                </div>
            </div>
        
            <!-- Button 4  -->
            <div class="col-md-2 button-wrapper">
                <div class="collapse multi-collapse" id="multiCollapseExample4">
                    <a href="contact-us.html" class="btn btn-outline-danger p-3 px-md-2 px-lg-3 highlighted-curious" aria-expanded="false" id="buttonFour">Let's Collaborate</a>
                </div>
            </div>
        
          </div>
        </div>
          


        
        
             
        
        
        </div>
        
      
      <script src="qassandra.js"></script>
      <script src="audio-recorder.js" defer></script>
      <script>
        function validateEmail(input) {
        const email = input.value.trim();
        const emailError = document.getElementById('emailError');
        
        // This pattern requires at least one period after @
        const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;
        
        // Check if email has at least one period after @
        const hasValidDomain = email.split('@')[1]?.includes('.');
        
        if (!emailPattern.test(email) || !hasValidDomain) {
          input.setCustomValidity('Please enter a valid email address (e.g., user@example.com)');
          emailError.classList.remove('hidden');
        } else {
          input.setCustomValidity('');
          emailError.classList.add('hidden');
        }
      }

      // Also validate on form submission
      document.addEventListener('DOMContentLoaded', () => {
        const form = document.querySelector('form');
        if (form) {
          form.addEventListener('submit', (e) => {
            const emailInput = document.getElementById('emailInput');
            if (emailInput) {
              validateEmail(emailInput);
              if (!emailInput.validity.valid) {
                e.preventDefault();
              }
            }
          });
        }
      });
    </script>
   </body>
</html>
